[
  {
    "type": "function",
    "function": {
      "name": "web_open",
      "description": "打开/跳转到指定 URL（navigate）。",
      "parameters": {
        "type": "object",
        "properties": {
          "url": { "type": "string" }
        },
        "required": ["url"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_back",
      "description": "后退（history.back）。",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_forward",
      "description": "前进（history.forward）。",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_reload",
      "description": "刷新（location.reload）。",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_snapshot",
      "description": "获取当前页面的元素快照。返回带 [ref=eN] 标注的元素树；后续操作使用 ref 指定目标。",
      "parameters": {
        "type": "object",
        "properties": {
          "interactive_only": {
            "type": "boolean",
            "description": "true=只返回可交互元素；false=同时返回标题/列表项/图片等内容元素。",
            "default": true
          },
          "cursor_interactive": {
            "type": "boolean",
            "description": "true=额外把 cursor:pointer/onclick/tabindex 等“非标准交互元素”纳入 refs（对齐 PRD-V4 cursorInteractive gate）。",
            "default": false
          },
          "scope": {
            "type": "string",
            "description": "可选：CSS selector，将 snapshot 限定在该元素子树内（默认 document.body）。"
          }
        },
        "required": []
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_click",
      "description": "点击指定 ref 的元素。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" }
        },
        "required": ["ref"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_dblclick",
      "description": "双击指定 ref 的元素。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" }
        },
        "required": ["ref"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_fill",
      "description": "在指定 ref 的输入框中填入文本（会先清空）。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" },
          "value": { "type": "string" }
        },
        "required": ["ref", "value"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_type",
      "description": "在指定 ref 的输入框中逐字符输入文本（更接近真实键入）。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" },
          "text": { "type": "string" }
        },
        "required": ["ref", "text"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_select",
      "description": "在指定 ref 的下拉框中选择选项（按 option.value 或显示文本匹配）。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" },
          "values": { "type": "array", "items": { "type": "string" } }
        },
        "required": ["ref", "values"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_check",
      "description": "勾选指定 ref 的 checkbox 或 radio。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" }
        },
        "required": ["ref"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_uncheck",
      "description": "取消勾选指定 ref 的 checkbox。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" }
        },
        "required": ["ref"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_scroll",
      "description": "页面滚动。direction: up/down/left/right。",
      "parameters": {
        "type": "object",
        "properties": {
          "direction": { "type": "string", "enum": ["up", "down", "left", "right"] },
          "amount": { "type": "integer", "default": 300 }
        },
        "required": ["direction"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_press_key",
      "description": "在当前焦点元素上按键（如 Enter/Tab/Escape/Backspace/ArrowDown）。",
      "parameters": {
        "type": "object",
        "properties": {
          "key": { "type": "string" }
        },
        "required": ["key"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_hover",
      "description": "触发指定 ref 元素的 hover（mouseenter/mouseover）。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" }
        },
        "required": ["ref"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_scroll_into_view",
      "description": "把指定 ref 元素滚动到可见区域。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" }
        },
        "required": ["ref"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_wait",
      "description": "等待页面条件（selector/text/url 或纯等待 ms）。只需提供其中一种条件。",
      "parameters": {
        "type": "object",
        "properties": {
          "selector": { "type": "string", "description": "等待该 CSS selector 出现（可选）。" },
          "text": { "type": "string", "description": "等待页面文本包含该子串（可选）。" },
          "url": { "type": "string", "description": "等待 location.href 包含该子串（可选）。" },
          "ms": { "type": "integer", "description": "纯等待时间（毫秒，优先级最高）。", "default": 0 },
          "timeout_ms": { "type": "integer", "description": "总超时时间（毫秒）。", "default": 5000 },
          "poll_ms": { "type": "integer", "description": "轮询间隔（毫秒）。", "default": 100 }
        },
        "required": []
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_query",
      "description": "查询指定 ref 的信息（text/html/outerHTML/value/attrs/computed_styles/isvisible/isenabled/ischecked）。",
      "parameters": {
        "type": "object",
        "properties": {
          "ref": { "type": "string" },
          "kind": {
            "type": "string",
            "enum": ["text", "html", "outerHTML", "value", "attrs", "computed_styles", "isvisible", "isenabled", "ischecked"]
          },
          "max_length": { "type": "integer", "default": 4000 }
        },
        "required": ["ref", "kind"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_screenshot",
      "description": "截取当前屏幕截图（真机证据用）。",
      "parameters": {
        "type": "object",
        "properties": {
          "label": { "type": "string", "description": "可选标签，用于人类查看。" }
        },
        "required": []
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_eval",
      "description": "执行一段 JavaScript（默认禁用，仅调试时开启）。",
      "parameters": {
        "type": "object",
        "properties": {
          "js": { "type": "string" },
          "max_length": { "type": "integer", "default": 2000 }
        },
        "required": ["js"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_close",
      "description": "关闭当前页面（WebView 场景会跳到 about:blank）。",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      }
    }
  }
]
